/**
 * autoCalc - autoCalc Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["angular-loading-bar","ui.bootstrap-slider","app.core","app.widgets","app.search","app.favorites","app.layout","checklist-model","ngAnimate","duScroll"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router"])}(),function(){"use strict";angular.module("app.favorites",["app.core","app.widgets","ngStorage"])}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";angular.module("app.search",["app.core","app.widgets","ngStorage"])}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",a)}function a(e,t,a){return function(i,s){var r=t.config.appErrorPrefix||"",l={exception:i,cause:s};i.message=r+i.message,e(i,s),a.error(i.message,l)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],a.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e){function t(t){return function(a){e.error(t,a)}}var a={catcher:t};return a}angular.module("blocks.exception").factory("exception",e),e.$inject=["logger"]}(),function(){"use strict";function e(e,t){function a(a,i,s){t.error(a,s),e.error("Error: "+a,i)}function i(a,i,s){l.showToasts&&t.info(a,s),e.info("Info: "+a,i)}function s(a,i,s){l.showToasts&&t.success(a,s),e.info("Success: "+a,i)}function r(a,i,s){t.warning(a,s),e.warn("Warning: "+a,i)}var l={showToasts:!1,error:a,info:i,success:s,warning:r,log:e.log};return l}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr"]}(),function(){"use strict";function e(e,t,a){function i(e,i,r,l){function n(e,i){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},s.resolveAlways),t.state(e.state,e.config)}),i&&!v&&(v=!0,a.otherwise(i))}function o(){i.$on("$stateChangeError",function(t,a,i,s,r,n){if(!p){f.errors++,p=!0;var o=a&&(a.title||a.name||a.loadedTemplateUrl)||"unknown target",c="Error routing to "+o+". "+(n.data||"")+". <br/>"+(n.statusText||"")+": "+(n.status||"");l.warning(c,[a]),e.path("/")}})}function c(){o(),u()}function d(){return r.get()}function u(){i.$on("$stateChangeSuccess",function(e,t,a,r,l){f.changes++,p=!1;var n=s.docTitle+" "+(t.title||"");i.title=n})}var p=!1,v=!1,f={errors:0,changes:0},m={configureStates:n,getStates:d,stateCounts:f};return c(),m}var s={docTitle:void 0,resolveAlways:{}};e.html5Mode(!0),this.configure=function(e){angular.extend(s,e)},this.$get=i,i.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.options.timeOut=4e3,e.options.positionClass="toast-bottom-right"}function t(e,t,a){e.debugEnabled&&e.debugEnabled(!0),a.configure(i.appErrorPrefix),t.configure({docTitle:i.appTitle+": "})}var a=angular.module("app.core");a.config(e),e.$inject=["toastr"];var i={appErrorPrefix:"[autoCalc Error] ",appTitle:"autoCalc",api:{baseUri:"http://autocalcapi.azurewebsites.net"}};a.value("config",i),a.config(t),t.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment).constant("$",$)}(),function(){"use strict";function e(e){var a="/404";e.configureStates(t(),a)}function t(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}angular.module("app.core").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,a,i){function s(i,s,l){function n(e){return e.data}function o(e){var i="query for vehciles failed. "+e.data.description;return a.error(i),t.reject(i)}return e.get(r+"/api/vehicles/"+i+"/"+s+"-"+l).then(n)["catch"](o)}var r=i.api.baseUri,l={getVehicle:s};return l}angular.module("app.core").factory("dataService",e),e.$inject=["$http","$q","logger","config"]}(),function(){"use strict";function e(e,t,a,i){function s(){var t=[];return e.all(t).then(function(){i.info("Activated Favorites View")})}var r=this;r.favorites=a.favorites,s()}angular.module("app.favorites").controller("favoritesController",e),e.$inject=["$q","$state","$sessionStorage","logger"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"favorites",config:{url:"/favorites",templateUrl:"app/favorites/favorites.view.html",controller:"favoritesController",controllerAs:"vm",title:"favorites"}}]}angular.module("app.favorites").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,a,i){function s(){i.success(a.appTitle+" loaded!",null),r()}function r(){t(function(){e.showSplash=!1},1e3)}var l=this;l.busyMessage="Please wait ...",l.isBusy=!0,e.showSplash=!0,l.navline={title:a.appTitle,text:"Created by John Papa",link:"http://twitter.com/john_papa"},s()}angular.module("app.layout").controller("ShellController",e),e.$inject=["$rootScope","$timeout","config","logger"]}(),function(){"use strict";function e(e,t,a,i,s,r,l,n,o,c){function d(){j.isBusy=!0,void 0===s.favorites&&(s.favorites=[]),j.favorites=s.favorites,j.isFavorite=k,j.goToFavorites=h,j.toggleFavorite=y,j.criteria={budgetFrom:a.budgetFrom,budgetTo:a.budgetTo,period:a.period,distance:a.distance},j.getResults=C,j.results=[],j.paging={currentNr:1},j.pagePrevious=T,j.pageNext=F,j.facets={fuelTypes:[],makes:[]},j.showAllFacets={makes:!1,fuelTypes:!1},j.updateFacets=v,j.makesFacetFilter=p,j.fuelTypesFacetFilter=u,j.toggleMakesFilter=m,j.toggleFuelTypesFilter=g,j.selectedMakes=[],j.selectedFuelTypes=[],void 0!==a.makes&&(j.selectedMakes=a.makes.split(",")),void 0!==a.fuelTypes&&(j.selectedFuelTypes=a.fuelTypes.split(",")),j.expanderClass=f,j.fuelTypesExpandable=!0,j.makesExpandable=!0}function u(e){return j.showAllFacets.fuelTypes?!0:_.contains(j.selectedFuelTypes,e.id)}function p(e){return j.showAllFacets.makes?!0:_.contains(j.selectedMakes,e.id)}function v(e){j.getResults(e)}function f(e,t){return e?"fa-chevron-up":0===t.length?"fa-plus":"fa-chevron-down"}function m(){j.showAllFacets.makes=!j.showAllFacets.makes}function g(){j.showAllFacets.fuelTypes=!j.showAllFacets.fuelTypes}function h(){i.go("favorites")}function b(){setTimeout(function(){l("#btnFavorites").removeClass("pulse")},1e3),l("#btnFavorites").addClass("pulse")}function y(e){if(k(e.id)){var t=_.find(j.favorites,function(t){return t.id===e.id}),a=j.favorites.indexOf(t);j.favorites.splice(a,1)}else o.getVehicle(e.id,j.criteria.period,j.criteria.distance).then(function(e){j.favorites.push(e),b()})}function k(e){return _.contains(_.toArray(_.pluck(j.favorites,"id")),e)}function w(){var e=[C("activate")];return t.all(e).then(function(){c.info("Activated Filter View")})}function T(){j.paging.currentNr--,C()}function F(){j.paging.currentNr++,C()}function x(){a.makes&&$(j.facets.makes,a.makes.split(","),j.selectedMakes),a.fuelTypes&&$(j.facets.fuelTypes,a.fuelTypes.split(","),j.selectedFuelTypes)}function $(e,t,a){_.each(t,function(t){var a=_.find(e,function(e){return e.id===t});a&&(a.selected=!0)})}function C(e){j.isBusy=!0;var t=(_.toArray(_.pluck(_.filter(j.facets.makes,function(e){return e.selected}),"id")),{amountFrom:j.criteria.budgetFrom,amountTo:j.criteria.budgetTo,pageNr:j.paging.currentNr,makes:j.selectedMakes.join(),fuelTypes:j.selectedFuelTypes.join()});return n.getResults(t).then(function(t){switch(e){case"activate":j.facets=t.facets;break;case"makes":j.facets.fuelTypes=t.facets.fuelTypes;break;case"fuelTypes":j.facets.makes=t.facets.makes}return j.results=t.results,j.totalResults=t.totalResults,j.paging=t.paging,x(),j.isBusy=!1,scrollTo(0,0),j.facets})}var j=this;d(),w()}angular.module("app.search").controller("filterController",e),e.$inject=["$scope","$q","$stateParams","$state","$sessionStorage","$document","$","searchService","dataService","logger"]}(),function(){"use strict";function e(e,t,a,i,s){function r(){var t=[n()];return e.all(t).then(function(){s.info("Activated Dashboard View")})}function l(){var e=(_.pluck(_.filter(o.facets.fuelTypes,function(e){return e.checked}),"id").join(),{budgetFrom:o.criteria.budget[0],budgetTo:o.criteria.budget[1],period:o.criteria.period,distance:o.criteria.distance,makes:o.selectedMakes.join(),fuelTypes:o.selectedFuelTypes.join()});t.go("searchFilter",e)}function n(e){var t={amountFrom:o.criteria.budget[0],amountTo:o.criteria.budget[1],period:o.criteria.period,distance:o.criteria.distance,pageNr:1,makes:o.selectedMakes.join(),fuelTypes:o.selectedFuelTypes.join()};return i.getResults(t).then(function(t){return void 0===e?o.facets=t.facets:"makes"===e?o.facets.fuelTypes=t.facets.fuelTypes:"fuelTypes"===e&&(o.facets.makes=t.facets.makes),o.totalResults=t.totalResults,o.facets})}var o=this;o.title="Dashboard",o.facets=[],o.selectedMakes=[],o.selectedFuelTypes=[],o.criteria={budget:[100,3e3],period:12,distance:3e4},o.moreFilters=!1,o.showResults=l,o.totalResultsString=function(){return 1===o.totalResults?o.totalResults+" result":o.totalResults+" results"},o.setFacet=function(e,t){e.selected=t},o.getFacets=n,o.greaterThan=function(e,t){return function(a){return a[e]>t}},angular.element(document).ready(function(){a(".tooltipped").tooltip({delay:50})}),r()}angular.module("app.search").controller("searchController",e),e.$inject=["$q","$state","$","searchService","logger"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"search",config:{url:"/",templateUrl:"app/search/search.view.html",controller:"searchController",controllerAs:"vm",title:"search"}},{state:"searchFilter",config:{url:"/search/{budgetFrom}-{budgetTo}/{period}-{distance}?{makes}&{fuelTypes}",templateUrl:"app/search/filter.view.html",controller:"filterController",controllerAs:"vm",title:"search"}}]}angular.module("app.search").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,a,i){function s(){function i(e){return e.data}function s(e){var i="query for facets failed. "+e.data.description;return a.error(i),t.reject(i)}return e.get(l+"/api/search/facets").then(i)["catch"](s)}function r(i){function s(e){return e.data}function r(e){var i="query for facets failed. "+e.data.description;return a.error(i),t.reject(i)}return e.get(l+"/api/search",{params:i}).then(s)["catch"](r)}var l=i.api.baseUri,n={getFacets:s,getResults:r};return n}angular.module("app.search").factory("searchService",e),e.$inject=["$http","$q","logger","config"]}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/core/404.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=bred><div class=pull-left><i class="fa fa-warning"></i></div><div class="datas-text pull-right"><a><span class=bold>404</span></a>Page Not Found</div><div class=clearfix></div></li></ul></div></div><div class=row><div class="widget wblue"><div ht-widget-header title="Page Not Found" allow-collapse=true></div><div class="widget-content text-center text-info"><div class=container>No soup for you!</div></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),e.put("app/favorites/favorites.view.html",'<div class=row><div class=col-md-12><div class=table-responsive><table class=table><tr><td></td><td ng-repeat="item in vm.favorites" class=favorite-table-item><div class=thumb><img ng-src={{item.imageUri}}></div></td></tr><tr><td>Make &amp; Model</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{item.make.name}} {{item.model}}</td></tr><tr><td>Implementation</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{item.description}}</td></tr><tr><td>Consumer price</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{item.cataloguePrice | currency:"€ ":0}}</td></tr><tr><td>BPM</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{item.bpm | currency:"€ ":0}}</td></tr><tr><th>Monthly costs</th></tr><tr><td>Installment</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{ item.monthlyCosts.installment | currency:"€ ":0}}</td></tr><tr><td>Insurance</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{ item.monthlyCosts.insurance | currency:"€ ":0}}</td></tr><tr><td>Fuel</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{ item.monthlyCosts.fuel | currency:"€ ":0}}</td></tr><tr><td>Maintenance</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{ item.monthlyCosts.maintenance | currency:"€ ":0}}</td></tr><tr><td>Road tax</td><td ng-repeat="item in vm.favorites" class=favorite-table-item>{{ item.monthlyCosts.roadTax | currency:"€ ":0}}</td></tr><tr><td><string>Total per month</string></td><td ng-repeat="item in vm.favorites" class=favorite-table-item><strong>{{ item.monthlyCosts.total | currency:"€ ":0}}</strong></td></tr></table></div></div></div>'),e.put("app/layout/shell.html",'<div ng-controller="ShellController as vm" layout=column flex><nav class="light-blue lighten-1" role=navigation></nav><div class="container-fluid view-animations" ui-view id=content></div></div>'),e.put("app/search/filter.view.html",'<div class=row><div class=col-md-12><div card class="panel panel-default"><div class=panel-body><div class=row><div class=col-md-2><button class="btn btn-default btn-lg"><i class="fa fa-arrow-left"></i></button> <button class="btn btn-default btn-lg"><i class="fa fa-sliders"></i></button> <button class="btn btn-default btn-lg"><i class="fa fa-filter"></i></button></div><div class=col-md-2><h3 class=panel-title>Budget</h3><h6>€ {{vm.criteria.budgetFrom}} to € {{vm.criteria.budgetTo}}</h6></div><div class=col-md-2><h4 class=panel-title>Period</h4><h6>{{vm.criteria.period}} months</h6></div><div class=col-md-2><h4 class=panel-title>Distance</h4><h6>{{vm.criteria.distance}} kilometers per year</h6></div><div right class=col-md-4><button id=btnFavorites ng-click=vm.goToFavorites() class="btn btn-primary btn-lg"><i class="fa fa-star"></i><span space>Favorites</span><span ng-show="vm.favorites.length > 0" space class="badge favorite-count">{{vm.favorites.length}}</span></button></div></div></div></div></div></div><div class=row><div class=col-md-2><div ng-include="\'app/search/results-filters.widget.html\'"></div></div><div ng-show=!vm.isBusy class=col-md-10><div ng-include="\'app/search/pager.widget.html\'"></div><div ng-include="\'app/search/results.widget.html\'"></div><div ng-include="\'app/search/pager.widget.html\'"></div></div></div>'),e.put("app/search/modifyFilters.view.html",'<md-dialog layout-padding flex><h3>{{vm.title}}</h3><md-dialog-content class=sticky-container><div class="col-md-4 col-lg-3" ng-repeat="facet in vm.facets.makes"><md-checkbox ng-change=vm.getResults() inline ng-model=facet.selected aria-label={{facet.description}} class="md-icon-button md-mini">{{ facet.description }} ({{ facet.count }})</md-checkbox></div><md-button ng-click=vm.hideDialog() class=md-primary>Close</md-button></md-dialog-content></md-dialog>'),e.put("app/search/pager.widget.html",'<div pager-heading class=row><div class=col-md-6><h6>Found {{vm.totalResults}} results</h6></div><div class=col-md-6><ul pager class="pager pull-right"><li><button class="btn btn-default" ng-click=vm.pagePrevious() ng-show=vm.paging.prevUrl aria-label="Next page"><i class="fa fa-arrow-left"></i></button></li><li><h6 inline space>Page {{vm.paging.currentNr}} of {{vm.paging.count}}</h6></li><li><button class="btn btn-default" ng-click=vm.pageNext() ng-show=vm.paging.nextUrl space aria-label="Next page"><i class="fa fa-arrow-right"></i></button></li></ul></div></div>'),e.put("app/search/results-filters.widget.html",'<div card class="panel panel-default"><div class=panel-body><h4 class=panel-title><i class="fa fa-filter"></i> Makes</h4><label facet-item class="checkbox facet-item" ng-repeat="make in vm.facets.makes | filter: vm.makesFacetFilter | orderBy: \'-count\'"><input type=checkbox checklist-change="vm.updateFacets(\'makes\')" checklist-value=make.id checklist-model=vm.selectedMakes>{{make.description}} ({{make.count}})</label> <button ng-show=vm.makesExpandable class="btn btn-block btn-default btn-xs expandable-btn" ng-click=vm.toggleMakesFilter() data-toggle=button aria-pressed=false><i class=fa ng-class="vm.expanderClass(vm.showAllFacets.makes, vm.selectedMakes)"></i></button><h4 class=panel-title><i class="fa fa-filter"></i> Fuel types</h4><label facet-item class="checkbox facet-item" ng-repeat="fuelType in vm.facets.fuelTypes | filter: vm.fuelTypesFacetFilter | orderBy: \'-count\'"><input type=checkbox checklist-change="vm.updateFacets(\'fuelTypes\')" checklist-value=fuelType.id checklist-model=vm.selectedFuelTypes>{{fuelType.description}} ({{fuelType.count}})</label> <button ng-show=vm.fuelTypesExpandable class="btn btn-block btn-default btn-xs expandable-btn" ng-click=vm.toggleFuelTypesFilter() data-toggle=button aria-pressed=false><i class=fa ng-class="vm.expanderClass(vm.showAllFacets.fuelTypes, vm.selectedFuelTypes)"></i></button></div></div>'),e.put("app/search/results.widget.html",'<div class=row><div results class=col-md-12><div result-item class="media results-animation at-repeat-flip-in-horizontal at-repeat-flip-out-horizontal" ng-repeat="result in vm.results"><div class="thumb pull-left media-object at-repeat-fade-in"><img ng-src={{result.imageUri}}></div><div class=media-body><div card class="panel panel-default"><div class="panel-heading result-title">{{result.makeName}} {{result.model}}</div><div class=panel-body><ul class="row list-group" ng-repeat="item in result.items"><li class=list-group-item ng-class="{\'item-hover\':hovering}" ng-mouseenter="hovering=true" ng-mouseleave="hovering=false"><span class=col-md-5>{{ item.description }} {{item.doorsCount}}-door {{ item.bodyType }}</span> <span class=col-md-1>{{ item.year }}</span> <span class=col-md-2>{{ item.fuelType }}</span> <strong>{{ item.monthlyCost | currency:"€ ":0}} pm</strong> <span class=pull-right><button ng-click=vm.toggleFavorite(item) class="btn btn-xs btn-link"><i class="fa fa-star favorite-item" ng-class="{\'is-favorite\':vm.isFavorite(item.id)}"></i></button></span></li></ul></div></div></div></div></div></div>'),e.put("app/search/search.view.html",'<div class=row><div class=col-md-4><div card class="panel panel-default"><div class=panel-body><h3 class=panel-title>Budget</h3><span slider on-stop-slide=vm.getFacets() class=tooltipped data-position=bottom data-delay=50 data-tooltip="I am tooltip" ng-model=vm.criteria.budget step=25 min=100 max=3000 range=true></span><div class=row><div class=col-md-6>€ {{vm.criteria.budget[0]}}</div><div right class=col-md-6>€ {{vm.criteria.budget[1]}}</div></div></div></div></div><div class=col-md-4><div card class="panel panel-default"><div class=panel-body><h3 class=panel-title>Period</h3><span slider ng-model=vm.criteria.period step=3 min=3 max=72></span><div class=row><div class=col-md-12>{{vm.criteria.period}} months</div></div></div></div></div><div class=col-md-4><div card class="panel panel-default"><div class=panel-body><h3 class=panel-title>Distance</h3><span slider ng-model=vm.criteria.distance step=5000 min=10000 max=70000></span><div class=row><div class=col-md-12>{{vm.criteria.distance}} km per year</div></div></div></div></div></div><div class=row><div class=col-md-12><div class=checkbox><label><input type=checkbox ng-model=vm.moreFilters>More filters</label></div><div ng-show=vm.moreFilters card class="panel panel-default"><div class=panel-body><div class=row><div class=col-md-7><h3 class=panel-title>Makes</h3><div facet-item class=col-md-3 ng-repeat="make in vm.facets.makes | orderBy: \'-count\'"><div class=checkbox><label><input type=checkbox checklist-change="vm.getFacets(\'makes\')" checklist-value=make.id checklist-model=vm.selectedMakes>{{make.description}} ({{make.count}})</label></div></div></div><div class=col-md-5><h3 class=panel-title>Fuel types</h3><div facet-item class=col-md-6 ng-repeat="fuelType in vm.facets.fuelTypes"><div class=checkbox><label><input type=checkbox checklist-change="vm.getFacets(\'fuelTypes\')" checklist-value=fuelType.id checklist-model=vm.selectedFuelTypes>{{fuelType.description}} ({{fuelType.count}})</label></div></div></div></div></div></div></div></div><div class=row><div right class=col-md-12><button ng-click=vm.showResults() class="btn btn-lg btn-primary">Show {{vm.totalResultsString()}}<i space class="fa fa-chevron-right"></i></button></div></div>')}]);